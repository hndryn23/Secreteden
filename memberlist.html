<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="memberlist.css">
    <link rel="stylesheet" href="profile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <title>Member List</title>
</head>
<body>
    <header>
        <input type="checkbox" id="toggler">
        <label for="toggler" class="fa fa-bars"></label>
        <div class="logo-container">
            <img src="images/logo.png" alt="logo" class="logo-image">
            <a href="#" class="logo">Secret Edens</a>
        </div>
        <nav class="navbar">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="products.html">Products</a>
            <a href="review.html">Review</a>
            <a href="contact.html">Contact</a>
        </nav>
        <div class="icons">
            <a href="#" class="fas fa-heart"></a>
            <a href="#" class="fas fa-shopping-cart"></a>
            <a href="#" class="fas fa-user"></a>
        </div>
    </header>
    <nav class="sidebar"> 
        <ul>
           <li><a href="admin-dashboard.html">Dashboard</a></li>
            <li><a href="memberlist.html">Member List</a></li>
            <li><a href="productListadmin.html">Product List</a></li>
            <li><a href="subscription.html">Subscription</a> </li>
            <li><a href="transaction.html">Transaction</a></li>
            <li><a href="login.html" id="logout-button">Log Out</a></li>
        </ul>
    </nav>
    <main class="member-list-section">
        <h1>Member List</h1>
        <div class="member-table">
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                    </tr>
                </thead>
                <tbody id="member-list">
                    <!-- Rows dynamically populated via JavaScript -->
                </tbody>
            </table>
        </div>
    </main>

    <script>
        // Fetch member data from the PHP file
        fetch('fetch_users.php')
            .then(response => response.json())
            .then(data => {
                const memberList = document.getElementById('member-list');
                
                data.forEach(user => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${user.full_name}</td>
                        <td>${user.email}</td>
                    `;
                    memberList.appendChild(row);
                });
            })
            .catch(error => {
                console.error('Error fetching user data:', error);
            });
    </script>
</body>
</html>
